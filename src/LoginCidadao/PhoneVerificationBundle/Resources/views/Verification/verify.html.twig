{% extends 'LoginCidadaoCoreBundle::compact.base.html.twig' %}

{% block panel_body_class %}task-phone-verification{% endblock %}

{% block panel_body %}
    <h1>{{ 'tasks.verify_phone.title' | trans }}</h1>

    <p class="main">{{ 'tasks.verify_phone.sms_sent' | trans }}</p>
    <p class="main">{{ 'tasks.verify_phone.type_code' | trans }}</p>

    {{ form_start(form) }}
    <div class="form-group">
        {{ form_label(form.verificationCode, null, {'label_attr': {'class': 'sr-only'}}) }}
        <label class="sr-only" for="codeInput">{{ 'tasks.verify_phone.form.label' | trans }}</label>
        <div class="input-group">
            <div class="input-group-addon">
                <span class="glyphicon glyphicon-phone" aria-hidden="true"></span>
            </div>
            {{ form_widget(form.verificationCode) }}
        </div>
        <div class="has-error">{{ form_errors(form.verificationCode) }}</div>
    </div>

    <button class="btn btn-block btn-success" type="submit">
        {{ 'tasks.verify_phone.form.submit' | trans }}
    </button>
    {{ form_end(form) }}

    {# Resend #}
    <button class="btn btn-block btn-link btn-success resend" type="button"
            data-toggle="collapse" data-target=".collapse-resend"
            aria-expanded="false" aria-controls="collapse-resend">
        {{ 'tasks.verify_phone.didnt_receive.button' | trans }}
    </button>
    <div class="collapse collapse-resend check-before-resend">
        <h2>{{ 'tasks.verify_phone.resend.before.title' | trans }}</h2>
        <p>{{ 'tasks.verify_phone.resend.before.body' | trans }}</p>

        <a href="{{ path('lc_resend_verification_code', {id: verification.id}) }}" class="btn btn-block btn-success">
            {{ 'tasks.verify_phone.resend.before.button' | trans }}
        </a>
    </div>
    {# END OF Resend #}

    {# Skip #}
    <a href="#" class="btn btn-block btn-link collapse-confirm collapse in skip" type="button"
       data-toggle="collapse" data-target=".collapse-confirm"
       aria-expanded="false" aria-controls="collapse-confirm">{{ 'tasks.verify_phone.skip.open_warning' | trans }}</a>
    <div class="collapse collapse-confirm">
        <p class="help-block">{{ 'tasks.verify_phone.skip.warning' | trans }}</p>
        <a href="#" class="btn btn-block btn-link">{{ 'tasks.verify_phone.skip.confirm' | trans }}</a>
    </div>
    {# END OF Skip #}
{% endblock %}
